{% extends "basic.html" %}

 {% block title %}<title>Регистрация</title>{% endblock %}

{% block content %}
<h2>Регистрация</h2>
<form method="POST">
    {% csrf_token %}
    <div>
        <label>ФИО:</label>
        {{ form.full_name }}
        {% if form.full_name.errors %}
            <div>
                {% for error in form.full_name.errors %}
                <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <div>
        <label>Логин:</label>
        {{ form.username }}
        {% if form.username.errors %}
            <div>
                {% for error in form.username.errors %}
                <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <div>
        <label>Email:</label>
        {{ form.email }}
        {% if form.email.errors %}
            <div class="invalid-feedback">
              {% for error in form.email.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
        {% endif %}
    </div>

    <div class="form-group">
      <label>Пароль:</label>
      {{ form.password }}
      {% if form.password.errors %}
        <div class="invalid-feedback">
          {% for error in form.password.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>


    <div class="form-group">
      <label>Повторите пароль:</label>
      {{ form.confirm_password }}
      {% if form.confirm_password.errors %}
        <div class="invalid-feedback">
          {% for error in form.confirm_password.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="form-check">
      {{ form.consent }}
      <label>Согласие на обработку персональных данных</label>
      {% if form.consent.errors %}
        <div class="invalid-feedback">
          {% for error in form.consent.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
    </div>
    <button type="submit">Зарегистрироваться</button>
</form>

{% if form.errors %}
    <div class="errors">
        <ul>
            {% for field in form %}
                {% for error in field.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            {% endfor %}
        </ul>
    </div>
{% endif %}
{% endblock %}